import{_ as e,t as a,s as G,r as L,u as O,e as C,v as U,x as A,y as S,c as D,d as R,z as W,l as T,C as b,D as H,Q as F,F as M,j as s,H as _,L as q,P as V,E as $,G as l,I as c,J as z,K as J,M as K,N as Q,B as X,O as Y}from"./index-895e883f.js";import{L as d}from"./Label-29ac64f5.js";import{B as Z,u as ss}from"./useGoogleAuth-482fd03e.js";const r={heading:()=>e(a.signUp.heading),signIn:()=>e(a.signIn.signIn),haveAccount:()=>e(a.signUp.haveAccount),signInWithGG:()=>e(a.signIn.signInWithGG),or:()=>e(a.signUp.or),firstName:()=>e(a.signUp.firstName),pFirstName:()=>e(a.signUp.pFirstName),lastName:()=>e(a.signUp.lastName),pLastName:()=>e(a.signUp.pLastName),email:()=>e(a.signUp.email),pEmail:()=>e(a.signUp.pEmail),phone:()=>e(a.signUp.phone),pPhone:()=>e(a.signUp.pPhone),dateOfBirth:()=>e(a.signUp.dateOfBirth),password:()=>e(a.signUp.password),pPassword:()=>e(a.signUp.pPassword),confirmPassword:()=>e(a.signUp.confirmPassword),pConfirmPassword:()=>e(a.signUp.pConfirmPassword),submit:()=>e(a.signUp.submit),question:()=>e(a.signUp.question),tearmsOfUse:()=>e(a.signUp.tearmsOfUse),privacyPolicy:()=>e(a.signUp.privacyPolicy)},es=G.pick(["email","firstName","password","term","confirmPassword","lastName","dateOfBirth","phone"]),as={email:"",firstName:"",lastName:"",password:"",term:!1,confirmPassword:"",dateOfBirth:new Date,phone:""},os=()=>{var f,u,N,w,j,y,P;const[h,g]=L.useState(!1),{t}=O(),{handleSubmit:k,control:o,formState:{errors:n},reset:v}=C({defaultValues:as,resolver:Y(es)}),{signInWithGoogle:I}=ss(),B=k(async x=>{const m=U.omit(x,["confirmPassword","term"]);g(!0);try{const i=await A(S,m.email,m.password),p=D(R,"users");await W(i.user,{displayName:`${m.firstName} ${m.lastName}`,photoURL:"https://i.pravatar.cc/300"}),await T(p,U.omit({...m,avatarURL:"https://i.pravatar.cc/300",uid:i.user.uid,name:i.user.displayName,authProvider:"email",createdAt:b(),updatedAt:b()},["password","confirmPassword"])),await H(i.user),F.success("Sign up successfully")}catch(i){i instanceof M&&i.code==="auth/email-already-in-use"&&F.error("Email already in use")}finally{v(),g(!1)}});return s.jsxs(s.Fragment,{children:[s.jsx(_,{className:"mb-1 text-lg lg:text-xl  text-center lg:mb-3  font-semibold text-text1 dark:text-white",children:t(r.heading())}),s.jsxs("p",{className:"text-xs mb-6 lg:mb-8 text-text3 font-normal text-center lg:text-sm",children:[t(r.haveAccount())," ",s.jsx(q,{to:V.sign_in,className:"text-primary font-medium underline",children:t(r.signIn())})]}),s.jsx(Z,{onClick:I,text:t(r.signInWithGG()),className:'"hover:border-primary transition-all flex items-center justify-center w-full py-4 mb-5 gap-x-3 border border-strock dark:border-darkStroke rounded-xl '}),s.jsx("p",{className:"text-xs font-normal text-center lg:text-sm mb-[15px] lg:mb-8 text-text2 dark:text-white",children:t(r.or())}),s.jsxs("form",{onSubmit:B,children:[s.jsxs($,{className:"gap-x-5",children:[s.jsxs(l,{children:[s.jsx(d,{htmlFor:"firstName",className:"dark:text-text3  text-sm",children:t(r.firstName())}),s.jsx(c,{errorField:(f=n.firstName)==null?void 0:f.message,id:"firstName",name:"firstName",type:"text",control:o,placeholder:t(r.pFirstName())})]}),s.jsxs(l,{children:[s.jsx(d,{htmlFor:"lastName",className:"dark:text-text3  text-sm",children:t(r.lastName())}),s.jsx(c,{errorField:(u=n.lastName)==null?void 0:u.message,id:"lastName",name:"lastName",type:"text",control:o,placeholder:t(r.pLastName())})]})]}),s.jsxs(l,{children:[s.jsx(d,{htmlFor:"email",className:"dark:text-text3  text-sm",children:t(r.email())}),s.jsx(c,{errorField:(N=n.email)==null?void 0:N.message,id:"email",name:"email",type:"text",control:o,placeholder:t(r.pEmail())})]}),s.jsxs(l,{children:[s.jsx(d,{htmlFor:"phone",className:"dark:text-text3  text-sm",children:t(r.phone())}),s.jsx(z,{errorField:(w=n.phone)==null?void 0:w.message,id:"phone",name:"phone",control:o,placeholder:t(r.pPhone())})]}),s.jsxs(l,{children:[s.jsx(d,{children:t(r.dateOfBirth())}),s.jsx(J,{name:"dateOfBirth",control:o,render:({field:{value:x,onChange:m,...i}})=>{var p;return s.jsx(K,{format:"dd/MM/yyyy",errorField:(p=n.dateOfBirth)==null?void 0:p.message,value:x,onChange:E=>m(E),...i})}})]}),s.jsxs(l,{children:[s.jsx(d,{htmlFor:"password",className:"dark:text-text3  text-sm",children:t(r.password())}),s.jsx(c,{errorField:(j=n.password)==null?void 0:j.message,id:"password",name:"password",type:"password",control:o,placeholder:t(r.password())})]}),s.jsxs(l,{children:[s.jsx(d,{htmlFor:"confirmPassword",className:"dark:text-text3  text-sm",children:t(r.confirmPassword())}),s.jsx(c,{errorField:(y=n.confirmPassword)==null?void 0:y.message,id:"confirmPassword",name:"confirmPassword",type:"password",control:o,placeholder:t(r.pConfirmPassword())})]}),s.jsx(Q,{control:o,name:"term",errorField:(P=n.term)==null?void 0:P.message}),s.jsx(X,{isLoading:h,disabled:h,type:"submit",kind:"primary",className:"w-full normal-case",children:t(r.submit())})]})]})};export{os as SignUpPage};
